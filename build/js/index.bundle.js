!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var o=i(1),r=n(o);new r.default({element:document.getElementById("container"),orientation:"vertical",inertiaFrame:60,inertiaFrameRatio:1.01,reboundCritical:2,autoCarousel:!0,autoCarouselInterval:3e3,loop:!0,onPageShow:function(t){return console.log(t)}})},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(e){if(i(this,t),this.element=null,e.element&&e.element instanceof Element&&(this.element=e.element),!this.element)throw new Error("Must specify the slide container");this._state=0,this._animation=!1,this._responseVelocity=0,this.orientation="vertical",e.orientation&&["vertical","horizontal"].indexOf(e.orientation)!=-1&&(this.orientation=e.orientation),this._position=0,this.reboundCritical=3,e.reboundCritical&&"number"==typeof e.reboundCritical&&(this.reboundCritical=e.reboundCritical),this.inertiaFrame=30,e.inertiaFrame&&"number"==typeof e.inertiaFrame&&(this.inertiaFrame=e.inertiaFrame),this.inertiaFrameRatio=1,e.inertiaFrameRatio&&"number"==typeof e.inertiaFrameRatio&&(this.inertiaFrameRatio=e.inertiaFrameRatio),this.loop=!!e.loop,this.autoCarousel=!!e.autoCarousel,this.autoCarousel&&(this.loop=!0),this.carouselReverse=!!e.carouselReverse,this.autoCarouselInterval=3e3,e.autoCarouselInterval&&"number"==typeof e.autoCarouselInterval&&(this.autoCarouselInterval=e.autoCarouselInterval),this._carouselTimer=0,this.onPageShow=null,e.onPageShow&&"function"==typeof e.onPageShow&&(this.onPageShow=e.onPageShow),this._init()}return n(t,[{key:"_init",value:function(){if(this._children=this.element.querySelectorAll(".page"),!(this._children.length<2)){if(this.loop){var t=this._children.item(0).cloneNode(!0),e=this._children.item(this._children.length-1).cloneNode(!0);this.element.insertBefore(e,this._children.item(0)),this.element.appendChild(t)}this._createRanges(),this.loop&&this._render(this._range[1]),this._setState(3),this._responder()}}},{key:"_createRanges",value:function(){var t=0;this._range=[],this._children=this.element.querySelectorAll(".page"),this._range.push(t);for(var e=0;e<this._children.length;e++){var i=this._children.item(e).getBoundingClientRect(),n=i.width;"vertical"==this.orientation&&(n=i.height),t+=n,this._range.push(t)}}},{key:"_getRange",value:function(t){for(var e=0;e<this._range.length;e++){if(t==this._range[e])return[this._range[e],this._range[e]];if(t<this._range[e])return[this._range[e-1],this._range[e]]}}},{key:"_setState",value:function(t){this._state=t,this._stopAnimation(),1==t?this._stopAutoCarousel():2==t?(this._stopAutoCarousel(),this._startInertia()):3==t&&this._startAutoCarousel()}},{key:"_startAnimation",value:function(t,e,i){var n=this;this._animation=!0;var o=function(){e*=n.inertiaFrameRatio;var o=n._position+t+e,r=null,a=function(){return n._setState(3)};o<=i[0]&&(o=i[0],r=a),o>=i[1]&&(o=i[1],r=a),n._render(o,r)};this._animate(o)}},{key:"_stopAnimation",value:function(){this._animation=!1}},{key:"_animate",value:function(t){var e=this;if(this._animation){var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)};i(function(){t(),e._animate(t)})}}},{key:"_responder",value:function(){var t=this,e="ontouchstart"in window,i=function(i){var n=e?i.touches.item(0):i;return"vertical"==t.orientation?n.screenY:n.screenX},n=0,o=function(e){1!=t._state&&(t._setState(1),n=i(e))},r=function(e){if(1==t._state){e.preventDefault();var o=i(e);t._responseVelocity=-(o-n),n=o,t._follow()}},a=function(e){1==t._state&&t._setState(2)},s=function(t){return a(t)},h=e?"touchstart":"mousedown",u=e?"touchmove":"mousemove",l=e?"touchend":"mouseup",_=e?"touchcancel":"mouseup",c=document.documentElement;this.element.addEventListener(h,o),c.addEventListener(u,r),c.addEventListener(l,a),e&&c.addEventListener(_,s)}},{key:"_render",value:function(t,e){var i=this;if(t!=this._position){this._position=t,this.loop&&(this._position==this._range[0]&&(this._position=this._range[this._range.length-3]),this._position==this._range[this._range.length-2]&&(this._position=this._range[1]));var n=function(t){var e="webkitTransform";"transform"in i.element.style&&(e="transform");var n="translate3d(-"+t+"px, 0, 0)";"vertical"==i.orientation&&(n="translate3d(0, -"+t+"px, 0)"),i.element.style[e]=n};n(this._position),e&&"function"==typeof e&&e()}}},{key:"_follow",value:function(){var t=this._responseVelocity,e=[this._range[0],this._range[this._range.length-2]],i=this._position+t;i<=e[0]&&(i=e[0]),i>=e[1]&&(i=e[1]),this._render(i)}},{key:"_startInertia",value:function(){var t=this._responseVelocity,e=this._getRange(this._position);if(e[0]==e[1])return void this._setState(3);var i=void 0;i=this._position-e[0]>e[1]-this._position?e[1]-this._position:e[0]-this._position,Math.abs(t)>this.reboundCritical&&(i=t>0?e[1]-this._position:e[0]-this._position);var n=Math.abs(i*this.inertiaFrame/(e[1]-e[0])),o=i/n;this._startAnimation(t,o,e)}},{key:"_startAutoCarousel",value:function(){var t=this;this.autoCarousel&&(this._carouselTimer=window.setTimeout(function(){var e=null,i=t._range.indexOf(t._position);e=t.carouselReverse?[t._range[i-1],t._range[i]]:[t._range[i],t._range[i+1]];var n=e[1]-e[0];t.carouselReverse&&(n*=-1);var o=0,r=n/t.inertiaFrame;t._startAnimation(o,r,e)},this.autoCarouselInterval)),this._onPageShow()}},{key:"_onPageShow",value:function(){for(var t=0,e=0;e<this._range.length;e++)if(this._position==this._range[e]){t=e;break}this.loop&&(t>0&&t<this._range.length-2?t-=1:0==t?t=this._range.length-3:t==this._range.length-2&&(t=0)),this.onPageShow&&"function"==typeof this.onPageShow&&this.onPageShow(t)}},{key:"_stopAutoCarousel",value:function(){window.clearTimeout(this._carouselTimer)}}]),t}();e.default=o}]);